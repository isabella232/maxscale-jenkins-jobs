- job:
    name: bring_up_from_template
    description: 'View: env. This job creates test environment, puts Maxscale source to VM and builds it'
    parameters: 
      - !include: './maxscale_jobs/include/name.yaml'
      - !include: './maxscale_jobs/include/target.yaml'
      - !include: './maxscale_jobs/include/templates.yaml'
      - !include: './maxscale_jobs/include/ci_url.yaml'
      - !include: './maxscale_jobs/include/ci_url_suffix.yaml'
      - !include: './maxscale_jobs/include/repo_user.yaml'
      - !include: './maxscale_jobs/include/repo_password.yaml'
      - !include: './maxscale_jobs/include/slave.yaml'
    builders:
      - shell: 
          '$HOME/build-scripts/test/bring_up_from_template.sh'
    publishers:
      - !include: './maxscale_jobs/include/mail.yaml'
      - !include: './maxscale_jobs/include/call_cleanup_without_destroy.yaml'
    wrappers:
      - workspace-cleanup:
          include:
            - "*.*"
          dirmatch: true
    concurrent: true
