shell: |
  cd "$path_to_repository"
  git fetch -a
  if [ "$source" == "BRANCH" ] ; then
    git reset --hard
    git checkout $value
    git pull --no-edit origin $value
    if [ $? -ne 0 ] ; then
      echo "Error checkout branch $value"
      exit 1
    fi
  fi

  if [ "$source" == "COMMIT"  ] || [ "$source" == "TAG" ]; then
    if ! git reset --hard $value; then
      echo "Error reset to tag $value of resetting tree to the commit $value"
      exit 1
    fi
  fi
